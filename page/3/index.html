<!DOCTYPE html><html lang="zh-CN"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"><title>vv13</title><link rel="stylesheet" href="/style/index.css"><link rel="stylesheet" href="//at.alicdn.com/t/font_438575_w9o3rescwyp919k9.css"><link rel="icon" href="/undefined"></head><body><div id="content-outer"><div class="recent-posts"><div class="recent-post-item"><div><a class="post-title" href="/2016/11/21/js变量的内存管理/">js变量作用域与垃圾回收</a><div class="post-excerpt"><h2 id="栈内存与堆内存"><a href="#栈内存与堆内存" class="headerlink" title="栈内存与堆内存"></a>栈内存与堆内存</h2><p>js变量分为基本类型与引用类型, 所有变量都储存在函数方法体内,但根据类型的不同实际存储位置不一样.基本类型存储于栈内中,而引用类型存于堆内存中, 我们先来看看什么是堆内存与栈内存.初始化以下代码:</p>
<figure class="highlight javascript"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> name = <span class="string">'某某某'</span>;</div><div class="line"><span class="keyword">const</span> age = <span class="number">22</span>;</div><div class="line"><span class="keyword">const</span> hasGf = <span class="literal">false</span>;</div><div class="line"><span class="keyword">const</span> obj = &#123;</div><div class="line">  test: <span class="number">123</span>,</div><div class="line">&#125;</div><div class="line"><span class="keyword">const</span> anotherObj = obj;</div></pre></td></tr></table></figure>
<p>它们在内存中的结构如图：</p>
<p><img src="/static/imgs/js变量的内存管理.jpg" alt=""></p></div><div class="title-info"><time class="post-time" datetime="2016-11-20T16:26:18.000Z">11.21, 2016</time><div class="title-item"><a href="/tags/js/"><i class="iconfont icon-tag">js</i></a></div></div></div></div></div><div id="pagination"><a class="prev" href="/page/2/"><i class="iconfont icon-shangyiyehoutuifanhui" aria-hidden="true"></i></a></div><div id="footer"><div>vv13 &copy; 2017<a class="ama" href="https://github.com/vv13/ama" target="_blank">Ask Me Anything</a></div><div class="shortcut"><a href="/atom.xml"><i class="iconfont icon-rss" aria-hidden="true"></i></a><a href="https://github.com/vv13"><i class="iconfont icon-github" aria-hidden="true"></i></a></div></div><div class="side-menu"><div class="shortcut" id="goHome"><a href="/"><i class="icon-home iconfont" aria-hidden="true"></i></a></div><div class="shortcut" id="goTop"><i class="icon-yijiantisheng iconfont" aria-hidden="true"></i></div></div></div><script src="/js/vv13.js"></script><div id="container"></div></body></html>